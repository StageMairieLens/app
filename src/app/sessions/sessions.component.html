<!-- Jeux -->
<div *ngIf="this.play">
  <div *ngIf="this.getSession() != null">


    <div *ngIf="!this.join">
      <div class="card container error align-middle">
        <div class="card-body text-center">
          <img src="../../assets/images/error.png" class="card-img-top" alt="error_img">
          <h1 class="card-title text-center" style="color : red ; font-size : 50px">ERREUR</h1>
          <p class="card-text text-center" style="font-size : 30px">La séssion que vous essayer de rejoindre n'est
            pas rejoignable</p>
        </div>

        <div class="align-middle text-center redirect_button">
          <button mat-raised-button color="primary" aria-label="Valider" [routerLink]="['']">
            <i class="fa-solid fa-angles-left fa-xl"></i>
            Retourner à l'acceuil
          </button>
        </div>

      </div>
    </div>

    <div *ngIf="this.join && !this.getConnected()">
      <div class="card container align-middle">
        <div class="card-header">
          Séssion N ° : {{this.getSession()!.id }}
        </div>

        <div class="card-body">

          <h2 class="card-title text-center">Rejoindre la séssion</h2>
          <div class="input-join align-middle">
            <input type="text" name="" id="" placeholder="Entrez votre nom ici" #input_name
              (keypress)="enterKey($event)">

            <button mat-raised-button color="primary" aria-label="Valider">
              <i class="fa fa-check" (click)="connect(input_name.value)"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="this.join && this.getConnected() && !this.inPlay">
    <div class="card container">
      <h5 class="card-header">Listes des jeux</h5>

      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red" (click)="quitSession()" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Quitter la séssion</span>
        </button>
      </div>

      <div class="form-row">
        <div class="col-md-12 text-center">
          <h2 class="card-title" style="margin-bottom : 2%">Jeu dans la séssion</h2>

          <div *ngIf="this.getSession()!.jeuId.length != 0" class="row justify-content-center">
            <mat-card style="background : #ecececee; margin-left : 2%; margin-right : 2% ; margin-bottom : 2%"
              *ngFor="let g of this.getSession()!.jeuId" class="text-center col-md-3">

              <mat-card-header *ngIf="g.type == 'Recopier'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-pen fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Recopier'" mat-card-image src="../../assets/images/thumb/recopier_mot.png">

              <mat-card-header *ngIf="g.type == 'Reconnaitre'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-eye fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Reconnaitre'" mat-card-image
                src="../../assets/images/thumb/reconnaissance_mot.png">

              <mat-card-header *ngIf="g.type == 'Memory'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-brain fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Memory'" mat-card-image src="../../assets/images/thumb/memory.png">

              <mat-card-header *ngIf="g.type == 'Abecedaire'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-brain fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Abecedaire'" mat-card-image src="../../assets/images/thumb/anagramme.png">


              <mat-card-header *ngIf="g.type == 'Fille&Garçon'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-children fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Fille&Garçon'" mat-card-image src="../../assets/images/thumb/">

              <mat-card-header *ngIf="g.type == 'Puzzle'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-puzzle-piece fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Puzzle'" mat-card-image src="../../assets/images/thumb/puzzle.png">

              <mat-card-actions>
                <button mat-fab color="primary" style="background : green" (click)="playGame(g.type,g.id_jeu)"
                  aria-label="Prévisualiser le jeu">
                  <i style="margin-left : 4%" class="fa-solid fa-play fa-2xl"></i>
                </button>
              </mat-card-actions>
            </mat-card>
          </div>

          <div class="row text-center" *ngIf="this.getSession()!.jeuId.length == 0"
            style="width : 85%; display : inline-flex"
            class="alert alert-danger align-items-center justify-content-center" role="alert">
            <i class="fa-solid fa-warning fa-2x" style="margin-bottom : 1%; margin-right : 1%"></i>
            <div>
              <p style="font-size : 28px">Il n'y a pas de jeu sélectionnées dans la séssion</p>
            </div>
          </div>

          <div class="text-center">
            <mat-divider
              style="margin-top : 3%; margin-bottom : 3% ; background : white; width : 85% ; display : inline-block">
            </mat-divider>
          </div>
        </div>
      </div>
    </div>

  </div>

  <div *ngIf="this.inPlay">

    <div *ngIf="this.jeu == 'Recopier'">
      <app-recopier-game [play]="false"></app-recopier-game>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.recopier = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-recopier-game [r]="this.recopier" [showTitle]="false"></app-recopier-game>
    </div>

    <div *ngIf="this.jeu == 'Memory'">
      <app-memory [play]="false"></app-memory>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.memory = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-memory [game]="this.memory" [showTitle]="false"></app-memory>
    </div>

    <div *ngIf="this.jeu == 'Reconnaitre'">
      <app-reconnaitre [play]="false"></app-reconnaitre>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.reconnaitre = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-reconnaitre [r]="this.reconnaitre" [showTitle]="false"></app-reconnaitre>
    </div>


    <div *ngIf="this.jeu == 'Abecedaire'">
      <app-abecedaire [play]="false"></app-abecedaire>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.abecedaire = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-abecedaire [game]="this.abecedaire" [showTitle]="false"></app-abecedaire>

    </div>

    <div *ngIf="this.jeu == 'Puzzle'">
      <app-puzzle [play]="false"></app-puzzle>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.puzzle = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-puzzle [r]="this.puzzle" [showTitle]="false"></app-puzzle>

    </div>

    <div *ngIf="this.jeu == 'Fille&Garçon'">
      <app-boy-girl-game [play]="false"></app-boy-girl-game>
      <div class="col-md-12 text-center sortButton">
        <button mat-raised-button style="background-color : red"
          (click)="this.inPlay = false; this.jeu = ''; this.boyGirl = null" color="primary">
          <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
          <span>Revenir à la listes des jeux</span>
        </button>
      </div>
      <app-boy-girl-game [bg]="this.boyGirl" [showTitle]="false"></app-boy-girl-game>

    </div>

  </div>

  <div *ngIf="this.getSession() == null">
    <div class="card container error align-middle">
      <div class="card-body text-center">
        <img src="../../assets/images/error.png" class="card-img-top" alt="error_img">
        <h1 class="card-title text-center" style="color : red ; font-size : 50px">ERREUR</h1>
        <p class="card-text text-center" style="font-size : 30px">La séssion que vous essayer de rejoindre n'éxiste
          pas
        </p>
      </div>

      <div class="align-middle text-center redirect_button">
        <button mat-raised-button color="primary" aria-label="Valider" [routerLink]="['']">
          <i class="fa-solid fa-angles-left fa-xl"></i>
          Retourner à l'acceuil
        </button>
      </div>

    </div>
  </div>
</div>


<!-- Affichages des séssions -->
<div class="card container" *ngIf="this.showList">
  <h5 class="card-header"> Listes des séssions</h5>

  <div class="card-body text-center">
    <!-- Bouton de tri & création de jeux -->
    <div class="col-md-12 text-center sortButton">
      <button mat-raised-button style="background-color : red" (click)="sortSessionId()" color="primary">
        <i class="fa-solid fa-arrow-down-1-9 fa-xl" style="margin-bottom : 2px"></i>
        <span>Trier par Id</span>
      </button>
      <button mat-raised-button style="background-color : red" (click)="sortSessionDate()" color="primary">
        <i class="fa-solid fa-sort-down fa-xl" style="margin-bottom : 2px"></i>
        <span>Trier par date</span>
      </button>
      <button mat-raised-button style="background-color : red" (click)="sortSessionNbJoueur()" color="primary">
        <i class="fa-solid fa-arrow-down-1-9 fa-xl" style="margin-bottom : 2px"></i>
        <span>Trier par nombre de joueur</span>
      </button>

      <button *ngIf="!this.showActive" (click)="this.showActive = true" mat-raised-button style="background-color : red"
        color="primary">
        <i class="fa-solid fa-circle-check fa-xl" style=" margin-bottom : 2px "></i>
        <span>Afficher uniquement les sessions actives</span>
      </button>

      <button *ngIf="this.showActive" (click)="this.showActive = false" mat-raised-button style="background-color : red"
        color="primary">
        <i class="fa-solid fa-eye fa-lg fa-xl" style=" margin-bottom : 2px "></i>
        <span>Afficher toutes les sesssions</span>
      </button>

      <button mat-raised-button style="background-color : rgb(12, 202, 12)" [routerLink]="['/panel/sessions/create']"
        color="primary">
        <i class="fa-solid fa-circle-plus fa-xl"></i>
        <span>Créer une session</span>
      </button>

    </div>

    <!-- Il n'y a pas de séssion -->
    <div *ngIf="this.data.length == 0 && !this.showActive">
      <h5 class="card-title" style="color : red">Il n'y a pas de sessions créer</h5>
    </div>

    <div *ngIf="this.data.length != 0" class="col-md-12">

      <!-- Afficher toutes les séssions -->
      <table class="table table-hover" *ngIf="!this.showActive">
        <thead>
          <tr>
            <th scope="col" *ngFor="let col of ['Active','Id','Nom','Data','Suivi','Actions']">{{col}}</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let element of this.data">
            <th *ngIf="element.isActive">
              <i class="fa-solid fa-circle-check fa-2xl" style="color : green;"></i>
            </th>
            <th *ngIf="!element.isActive">
              <i class="fa-solid fa-circle-xmark fa-2xl" style="color : red"></i>
            </th>
            <th>{{element.id}}</th>
            <th>{{element.nom}}</th>
            <th>{{element.date}}</th>
            <th *ngIf="!element.isSuivi">Non</th>
            <th *ngIf="element.isSuivi">Oui</th>
            <th class="button_actions">
              <button mat-raised-button title="Prévisualiser le jeu de la séssion" (click)="previsualiserGame(element)"
                color="primary">
                <i class="fa-solid fa-eye fa-lg fa-lg" style="margin-bottom : 3px"></i>
              </button>
              <button mat-raised-button title="Editer la séssion" (click)="editSession(element)"
                style="background-color : rgb(223, 175, 18)" color="primary">
                <i class="fa-solid fa-pen fa-lg" style=" margin-bottom : 2px"></i>
              </button>
              <button mat-raised-button title="Supprimer la séssion" (click)="deleteSession(element)"
                style="background-color : red" color="primary">
                <i class="fa-solid fa-trash fa-lg" style=" margin-bottom : 2px "></i>
              </button>

              <button *ngIf="element.isSuivi" mat-raised-button title="Suivre la séssion" (click)="joinSession(element)"
                style="background-color : rgb(77, 184, 44)" color="primary">
                <i class="fa-solid fa-right-to-bracket fa-lg" style=" margin-bottom : 2px "></i>
              </button>

              <button *ngIf="!element.isSuivi" disabled mat-raised-button title="Suivi désactivé"
                (click)="joinSession(element)" style="background-color : rgb(77, 184, 44)" color="primary">
                <i class="fa-solid fa-right-to-bracket fa-lg" style=" margin-bottom : 2px "></i>
              </button>

              <button *ngIf="!element.isActive" title="Démarrer la séssion" mat-raised-button
                (click)="setSessionActive(element)" style="background-color : rgb(168, 14, 135)" color="primary">
                <i class="fa-solid fa-play fa-lg" style=" margin-bottom : 2px "></i>
              </button>
              <button *ngIf="element.isActive" title="Eteindre la séssion" mat-raised-button
                (click)="setSessionInactive(element)" style="background-color : rgb(168, 14, 135)" color="primary">
                <i class="fa-solid fa-stop fa-lg" style=" margin-bottom : 2px "></i>
              </button>
            </th>

          </tr>
        </tbody>
      </table>

      <!-- Séssions actives -->
      <div *ngIf="this.showActive">
        <!-- Afficher les séssions actives -->
        <table class="table table-hover" *ngIf="this.getSessionsActive().length != 0">
          <thead>
            <tr>
              <th scope="col" *ngFor="let col of ['Active','Id','Nom','Data','Suivi','Actions']">{{col}}</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let element of this.getSessionsActive()">
              <th *ngIf="element.isActive">
                <i class="fa-solid fa-circle-check fa-2xl" style="color : green;"></i>
              </th>
              <th *ngIf="!element.isActive">
                <i class="fa-solid fa-circle-xmark fa-2xl" style="color : red"></i>
              </th>
              <th>{{element.id}}</th>
              <th>{{element.nom}}</th>
              <th>{{element.date}}</th>
              <th *ngIf="!element.isSuivi">Non</th>
              <th *ngIf="element.isSuivi">Oui</th>
              <th class="button_actions">
                <button mat-raised-button title="Prévisualiser le jeu de la séssion"
                  (click)="previsualiserGame(element)" color="primary">
                  <i class="fa-solid fa-eye fa-lg fa-lg" style="margin-bottom : 3px"></i>
                </button>
                <button mat-raised-button title="Editer la séssion" (click)="editSession(element)"
                  style="background-color : rgb(223, 175, 18)" color="primary">
                  <i class="fa-solid fa-pen fa-lg" style=" margin-bottom : 2px"></i>
                </button>
                <button mat-raised-button title="Supprimer la séssion" (click)="deleteSession(element)"
                  style="background-color : red" color="primary">
                  <i class="fa-solid fa-trash fa-lg" style=" margin-bottom : 2px "></i>
                </button>

                <button *ngIf="element.isSuivi" mat-raised-button title="Suivre la séssion"
                  (click)="joinSession(element)" style="background-color : rgb(77, 184, 44)" color="primary">
                  <i class="fa-solid fa-right-to-bracket fa-lg" style=" margin-bottom : 2px "></i>
                </button>

                <button *ngIf="!element.isSuivi" disabled mat-raised-button title="Suivi désactivé"
                  (click)="joinSession(element)" style="background-color : rgb(77, 184, 44)" color="primary">
                  <i class="fa-solid fa-right-to-bracket fa-lg" style=" margin-bottom : 2px "></i>
                </button>

                <button *ngIf="!element.isActive" title="Démarrer la séssion" mat-raised-button
                  (click)="setSessionActive(element)" style="background-color : rgb(168, 14, 135)" color="primary">
                  <i class="fa-solid fa-play fa-lg" style=" margin-bottom : 2px "></i>
                </button>
                <button *ngIf="element.isActive" title="Eteindre la séssion" mat-raised-button
                  (click)="setSessionInactive(element)" style="background-color : rgb(168, 14, 135)" color="primary">
                  <i class="fa-solid fa-stop fa-lg" style=" margin-bottom : 2px "></i>
                </button>
              </th>

            </tr>
          </tbody>
        </table>

        <!-- Si il n'y a pas de séssion actives -->
        <div *ngIf="this.getSessionsActive().length == 0">
          <h5 class="card-title" style="color : red">Il n'y a pas de sessions actives</h5>
        </div>
      </div>


    </div>

  </div>
</div>

<!-- Prévisualisation de la séssion -->
<div class="card container" *ngIf="this.preview">

  <h5 class="card-header">Prévisualisation de la séssion
    n°{{this.selected_session!.id}}</h5>

  <div class="card-body text-center">
    <!-- Prévisualisr le jeu d'une séssion -->

    <div class="col-md-12 text-center sortButton">
      <button mat-raised-button style="background-color : red" (click)="this.preview = false; this.showList = true"
        color="primary">
        <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
        <span>Retourner sur les sessions</span>
      </button>
    </div>

    <!-- <div *ngIf="this.selected_session!.jeu == 'Recopier'">
      <app-recopier-game [r]="this.getSessionRecopier(this.selected_session!)" [showTitle]="false"></app-recopier-game>
    </div>
    <div *ngIf="this.selected_session!.jeu == 'Memory'">
      <app-memory [showTitle]="false" [game]="this.getSessionMemory(this.selected_session!)"></app-memory>
    </div>
    <div *ngIf="this.selected_session!.jeu == 'Reconnaitre'">
      <app-reconnaitre [r]="this.getSessionReconnaitre(this.selected_session!)" [showTitle]="false">
      </app-reconnaitre>
    </div>
    <div *ngIf="this.selected_session!.jeu == 'Abecedaire'">
      <app-abecedaire [showTitle]="false" [game]="this.getSessionAbecedaire(this.selected_session!)">
      </app-abecedaire>
    </div>
    <div *ngIf="this.selected_session!.jeu == 'Fille&Garçon'">
      <app-boy-girl-game [showTitle]="false" [bg]="this.getSessionBoyGirl(this.selected_session!)">
      </app-boy-girl-game>
    </div>
    <div *ngIf="this.selected_session!.jeu == 'Puzzle'">
      <app-puzzle [r]="this.getSessionPuzzle(this.selected_session!)" [showTitle]="false"></app-puzzle>

    </div> -->
  </div>
</div>

<!-- Création et édition de séssion -->
<div class="card container" *ngIf="this.create_session">

  <h5 *ngIf="!this.edit" class="card-header">Création d'une séssion</h5>
  <h5 *ngIf="this.edit" class="card-header">édition de la séssion n°{{this.selected_session!.id}}</h5>



  <div *ngIf="!this.previsualiserJeuSession">

    <div class="col-md-12 text-center sortButton">
      <button mat-raised-button style="background-color : red" [routerLink]="['/panel/sessions']" color="primary">
        <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
        <span>Retourner sur les sessions</span>
      </button>
    </div>

    <div class="form-row">
      <div class="col-md-12 text-center">
        <h2 class="card-title" style="margin-bottom : 2%">Jeu dans la séssion</h2>

        <div *ngIf="this.jeuId.length != 0">
          <div *ngIf="this.jeuId.length != 0" class="row justify-content-center">
            <mat-card
              style="background : #ecececee; margin-left : 2%; margin-right : 2% ; margin-bottom : 2%; width : auto"
              *ngFor="let g of this.jeuId" class="text-center col-md-3">

              <mat-card-header *ngIf="g.type == 'Recopier'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-pen fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Recopier'" mat-card-image src="../../assets/images/thumb/recopier_mot.png">

              <mat-card-header *ngIf="g.type == 'Reconnaitre'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-eye fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Reconnaitre'" mat-card-image
                src="../../assets/images/thumb/reconnaissance_mot.png">

              <mat-card-header *ngIf="g.type == 'Memory'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-brain fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Memory'" mat-card-image src="../../assets/images/thumb/memory.png">

              <mat-card-header *ngIf="g.type == 'Abecedaire'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-brain fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Abecedaire'" mat-card-image src="../../assets/images/thumb/anagramme.png">


              <mat-card-header *ngIf="g.type == 'Fille&Garçon'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-children fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Fille&Garçon'" mat-card-image src="../../assets/images/thumb/">

              <mat-card-header *ngIf="g.type == 'Puzzle'" class="justify-content-center">
                <mat-card-title style="font-size : 23px">
                  <b>
                    <i class="fa-solid fa-puzzle-piece fa-xl" style="color : rgb(51, 51, 51) ; margin-top : 2%"></i>
                    {{g.type}}
                  </b>
                </mat-card-title>
              </mat-card-header>
              <img *ngIf="g.type == 'Puzzle'" mat-card-image src="../../assets/images/thumb/puzzle.png">

              <mat-card-actions>
                <button mat-fab color="primary" style="margin-right : 5%" (click)="previewGame(g.type,g.id_jeu)"
                  aria-label="Prévisualiser le jeu">
                  <i class="fa-solid fa-eye fa-2xl"></i>
                </button>
                <button mat-fab color="warn" (click)="deleteJeu(g.type,g.id_jeu)"
                  aria-label="Supprimer le jeu de la séssion">
                  <i class="fa-solid fa-xmark fa-2xl"></i>
                </button>
              </mat-card-actions>
            </mat-card>
          </div>
        </div>

        <div class="row text-center" *ngIf="this.jeuId.length == 0" style="width : 85%; display : inline-flex"
          class="alert alert-danger align-items-center justify-content-center" role="alert">
          <i class="fa-solid fa-warning fa-2x" style="margin-bottom : 1%; margin-right : 1%"></i>
          <div>
            <p style="font-size : 28px">Il n'y a pas de jeu sélectionnées dans la séssion</p>
          </div>
        </div>

        <div class="text-center">
          <mat-divider
            style="margin-top : 3%; margin-bottom : 3% ; background : white; width : 85% ; display : inline-block">
          </mat-divider>
        </div>
      </div>
    </div>
  </div>





  <div class="form-row text-center">
    <div class="col-md-12">
      <h2 class="card-title">Suivi de la séssion</h2>
      <b *ngIf="!this.isSuivi" style="color : #ff4083; margin-right : 1%">Non</b>
      <b *ngIf="this.isSuivi" style="margin-right : 1%">Non</b>

      <mat-slide-toggle (change)="this.list['isSuivi']=+this.isSuivi" [(ngModel)]="this.isSuivi"></mat-slide-toggle>

      <b *ngIf="this.isSuivi" style="color : #ff4083; margin-left : 1%">Oui</b>
      <b *ngIf="!this.isSuivi" style="margin-left : 1%">Oui</b>
    </div>
  </div>

  <div class="form-row justify-content-center">

    <div class="col-md-10 text-center">
      <label for="nom_session" class="form-label align-middle"><b>Nom de la session</b></label>
      <input (change)="this.session_nom = nom_session.value" value="{{this.session_nom}}" type="text"
        class="form-control" #nom_session title="Nom de la session">
    </div>

  </div>

  <div class="form-row justify-content-center">
    <div class="col-md-10 text-center">
      <label for="jeu_session" class="form-label align-middle"><b>Jeu</b></label>
      <select value="{{this.jeuSession}}" class="form-control" aria-label="Default select example"
        (change)="this.changeJeuSession(jeu_session.value)" #jeu_session>
        <option class="text-center"></option>
        <option class="text-center">Recopier</option>
        <option class="text-center">Memory</option>
        <option class="text-center">Reconnaitre</option>
        <option class="text-center">Abecedaire</option>
        <option class="text-center">FilleEtGarcon</option>
        <option class="text-center">Puzzle</option>
      </select>
    </div>
  </div>

  <div *ngIf="jeuSession == 'Recopier'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col"
            *ngFor="let col of ['ID','Date','Nombre d\'image','Type d\'écriture','Vocalisation','Crée par','']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.recopier_list" (click)="addJeu('Recopier',element.id)">
          <th>{{element.id}}</th> <!-- Id du jeu -->
          <th>{{element.date}}</th>
          <!--Date de création du jeu-->
          <th>{{element.images.length}}</th>
          <!--Nombre d'image qui compose le jeu-->
          <th>{{element.typeEcriture}}</th>
          <!--Type d'écriture du jeu-->
          <th *ngIf="element.isVocaliser">Oui</th>
          <th *ngIf="!element.isVocaliser">Non</th>
          <th>Aucun</th>
          <!--Nom de l'utilisateur qui à créer le jeu-->
          <th>
            <mat-checkbox *ngIf="!containRecopier(element)" (ngModelChange)="addRecopier(element)" [ngModel]="false"
              color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containRecopier(element)" (ngModelChange)="deleteRecopier(element)" [ngModel]="true"
              color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="jeuSession == 'Memory'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col" *ngFor="let col of ['Id','Date','Nombre de tuiles','Paramètre','Crée par']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.memory_list" (click)="addJeu('Memory',element.id)">
          <th>{{element.id}}</th>
          <!-- Id du jeu -->
          <th>{{element.date}}</th> <!-- Date de création du jeu -->
          <th>{{element.nbTile}}</th> <!-- Nombre de tuile qui compose le jeu -->
          <th>{{element.setting[0]}} / {{element.setting[1]}}</th> <!-- Paramètre du jeu -->
          <th>Aucun</th> <!-- Nom de l'utilisateur qui à créer le jeu -->
          <th>
            <mat-checkbox *ngIf="!containMemory(element)" (ngModelChange)="addMemory(element)" [ngModel]="false"
              color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containMemory(element)" (ngModelChange)="deleteMemory(element)" [ngModel]="true"
              color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="jeuSession == 'Reconnaitre'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col"
            *ngFor="let col of ['ID','Date','Nombre d\'image','Type d\'écriture','Vocalisation','Crée par']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.reconnaitre_list" (click)="addJeu('Reconnaitre',element.id)">
          <th>{{element.id}}</th> <!-- Id du jeu -->
          <th>{{element.date}}</th> <!-- Date de création du jeu -->
          <th>{{element.images.length}}</th> <!-- Nombre d'image qui compose le jeu -->
          <th>{{element.typeEcriture}}</th> <!-- Type d'écriture du jeu -->
          <th *ngIf="element.isVocaliser">Oui</th>
          <th *ngIf="!element.isVocaliser">Non</th>
          <th>Aucun</th> <!-- Nom de l'utilisateur qui à créer le jeu -->
          <th>
            <mat-checkbox *ngIf="!containReconnaitre(element)" (ngModelChange)="addReconaitre(element)"
              [ngModel]="false" color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containReconnaitre(element)" (ngModelChange)="deleteReconnaitre(element)"
              [ngModel]="true" color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="jeuSession == 'Abecedaire'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col"
            *ngFor="let col of ['ID','Date','Nombre d\'image','Type d\'écriture','Vocalisation','Crée par']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.abecedaire_list" (click)="addJeu('Abecedaire',element.id)">
          <th>{{element.id}}</th> <!-- Id du jeu -->
          <th>{{element.date}}</th> <!-- Date de création du jeu -->
          <th>{{element.images.length}}</th> <!-- Nombre d'image qui compose le jeu -->
          <th>{{element.typeEcriture}}</th> <!-- Type d'écriture du jeu -->
          <th *ngIf="element.isVocaliser">Oui</th>
          <th *ngIf="!element.isVocaliser">Non</th>
          <th>Aucun</th> <!-- Nom de l'utilisateur qui à créer le jeu -->
          <th>
            <mat-checkbox *ngIf="!containAbecedaire(element)" (ngModelChange)="addAbecedaire(element)" [ngModel]="false"
              color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containAbecedaire(element)" (ngModelChange)="deleteAbecedaire(element)"
              [ngModel]="true" color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="jeuSession == 'FilleEtGarcon'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col" *ngFor="let col of ['ID','Date','Mots fille','Mots garçon','Type d\'écriture','Crée par']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.boygirl_list" (click)="addJeu('Fille&Garçon',element.id)">
          <th>{{element.id}}</th> <!-- Id du jeu -->
          <th>{{element.date}}</th> <!-- Date de création du jeu -->
          <th>{{element.listMotsFille.length}}</th> <!-- Nombre de mot fille qui compose le jeu -->
          <th>{{element.listMotsGarcon.length}}</th> <!-- Nombre de mot garçon qui compose le jeu -->
          <th>{{element.type_ecriture}}</th> <!-- Type d'écriture du jeu -->
          <th>Aucun</th> <!-- Nom de l'utilisateur qui à créer le jeu -->
          <th>
            <mat-checkbox *ngIf="!containBoyGirl(element)" (ngModelChange)="addBoyGirl(element)" [ngModel]="false"
              color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containBoyGirl(element)" (ngModelChange)="deleteBoyGirl(element)" [ngModel]="true"
              color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>


  <div *ngIf="jeuSession == 'Puzzle'">
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope="col"
            *ngFor="let col of ['ID','Date','Nombre d\'images','Nombre de pièces','Type d\'écriture','Crée par']">
            {{col}}</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let element of this.puzzle_list" (click)="addJeu('Puzzle',element.id)">
          <th>{{element.id}}</th> <!-- Id du jeu -->
          <th>{{element.date}}</th> <!-- Date de création du jeu -->
          <th>{{element.liste_images.length}}</th> <!-- Nombre de mot fille qui compose le jeu -->
          <th>{{element.decoupe}}</th> <!-- Nombre de mot garçon qui compose le jeu -->
          <th>{{element.typeEcriture}}</th> <!-- Type d'écriture du jeu -->
          <th>Aucun</th> <!-- Nom de l'utilisateur qui à créer le jeu -->
          <th>
            <mat-checkbox *ngIf="!containPuzzle(element)" (ngModelChange)="addPuzzle(element)" [ngModel]="false"
              color="primary" class="example-margin"></mat-checkbox>
            <mat-checkbox *ngIf="containPuzzle(element)" (ngModelChange)="deletePuzzle(element)" [ngModel]="true"
              color="primary" class="example-margin"></mat-checkbox>
          </th>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Bouton création de la séssion -->
  <div *ngIf="!this.edit" class="col-md-12 text-center sortButton">
    <button mat-raised-button style="background-color : rgb(12, 202, 12)"
      (click)="this.createSession(jeu_session.value, nom_session.value)" color="primary">
      <i class="fa-solid fa-plus-circle fa-lg" style="margin-bottom : 1px"></i>
      <span>Créer la sessions</span>
    </button>
  </div>


  <!-- Bouton sauvegarde de la séssion -->
  <div *ngIf="this.edit" class="col-md-12 text-center sortButton">
    <button mat-raised-button style="background-color : rgb(255, 196, 0) ; color : black" (click)="save()"
      color="primary">
      <i class="fa-solid fa-floppy-disk fa-lg" style="margin-bottom : 1px"></i>
      <span>Sauvegarder la sessions</span>
    </button>
  </div>
</div>

<div *ngIf="this.previsualiserJeuSession">

  <!-- Bouton quitter la prévisualisation -->
  <div class="prev-button align-middle text-center" style="margin-bottom : 10px; margin-top : 10px">
    <div class="prev-button align-middle text-center" style="margin-bottom : 10px">
      <button class="prev-button align-middle text-center" (click)="this.previsualiserJeuSession = false"
        mat-raised-button color="warn">
        <i class="fa-solid fa-eye-slash fa-lg" style="margin-bottom : 4px"></i>
        Quitter la prévisualisation</button>
    </div>
  </div>

  <div *ngIf="this.jeu == 'Recopier'">
    <app-recopier-game [r]="this.recopier" [showTitle]="false" [play]="true" [showList]="false"></app-recopier-game>
  </div>

  <div *ngIf="this.jeu == 'Reconnaitre'">
    <app-reconnaitre [r]="this.reconnaitre" [showTitle]="false" [play]="true" [showList]="false"></app-reconnaitre>
  </div>

  <div *ngIf="this.jeu == 'Puzzle'">
    <app-puzzle [r]="this.puzzle" [showTitle]="false"></app-puzzle>
  </div>

  <div *ngIf="this.jeu == 'Memory'">
    <app-memory [showTitle]=false [showList]="false" [game]="this.memory"></app-memory>
  </div>

  <div *ngIf="this.jeu == 'Abecedaire'">
    <app-abecedaire [game]="this.abecedaire" [showTitle]="false"></app-abecedaire>

  </div>

  <div *ngIf="this.jeu == 'Fille&Garçon'">
    <app-boy-girl-game [bg]="this.boyGirl" [showTitle]="false"></app-boy-girl-game>

  </div>



</div>


<!-- Suivi de séssion -->
<div class="card container" *ngIf="this.view">
  <h5 class="card-header">Visualisation de la séssion</h5>


  <div class="card-body text-center">

    <h2 style="font-size : 80px; letter-spacing : 3px;">N° de séssion : {{this.selected_session!.id}}</h2>

    <p *ngFor="let g of this.selected_session!.jeuId">{{g.type}} : {{g.id_jeu}} <br></p>

    <div class="col-md-12 text-center sortButton">
      <button mat-raised-button style="background-color : red" (click)="quitView() " color="primary">
        <i class="fa-solid fa-angles-left" style="margin-bottom : 1px"></i>
        <span>Retourner sur les sessions</span>
      </button>
    </div>

    <div *ngIf="this.selected_session!.joueur.length != 0">
      <div *ngIf="this.selected_session!.isActive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th scope="col">Nom</th>
              <th scope="col">Erreur(s)</th>
              <th scope="col">Progression</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let user of this.selected_session!.joueur">
              <th>{{user.nom}}</th>
              <th>{{user.compteur_erreur}}</th>
              <th>
                <div class="progress">
                  <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated"
                    role="progressbar" [ngStyle]="{width: user.progression.toString() + '%'}" aria-valuenow=" 50"
                    aria-valuemin="0" aria-valuemax='100'></div>
                </div>
              </th>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="!this.selected_session!.isActive">
        <h5 class="card-title" style="color : red">La session n'est pas active</h5>
      </div>

    </div>

    <div *ngIf="this.selected_session!.joueur.length == 0">
      <h5 class="card-title" style="color : red">Il n'y a pas de joueurs dans la séssion</h5>
    </div>
  </div>
</div>
