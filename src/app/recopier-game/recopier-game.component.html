<div class="text-center" *ngIf="this.showTitle">
  <h1 class="title">
    <span>R</span>
    <span>E</span>
    <span>C</span>
    <span>O</span>
    <span>P</span>
    <span>I</span>
    <span>E</span>
    <span>R</span>
  </h1>
</div>

<div *ngIf="this.r == null" class="card align-middle container" id="card_error"
  style="width: 32rem; background-color: #3bb8c9; color : black">
  <img class="card-img-top image"
    src="../../assets/images/error.png"
    alt="Card image cap">
  <div class="card-body text-center">
    <h5 class="card-title title_image_error">Erreur !</h5>
    <p class="card-text">Il n'y a pas de jeu selectionné !</p>
  </div>
</div>

<div *ngIf="this.r != null">
  <div *ngIf="this.showImageCpt != this.r!.images.length" class="card align-middle container" id="card"
    style="width: 32rem;" [ngStyle]="{background : this.r!.bg_color}">
    <img class="card-img-top image" src="{{ this.r!.images[this.showImageCpt].getSrc() }}" alt="Card image cap">
    <div class="card-body text-center">

      <h5 *ngIf="this.r!.typeEcriture == 'CURSIF'" style="font-family: cursiveFont; font-size : 50px"
        class="card-title title_image" id="image_title" [ngStyle]="{color : this.r!.title_color}">
        {{this.r!.images[this.showImageCpt].getNom()}}</h5>
      <h5 *ngIf="this.r!.typeEcriture == 'CAPITAL'" style="text-transform: uppercase;" class="card-title title_image"
        id="image_title" [ngStyle]="{color : this.r!.title_color}">{{this.r!.images[this.showImageCpt].getNom()}}</h5>
      <h5 *ngIf="this.r!.typeEcriture == 'SCRIPT'" class="card-title title_image" id="image_title"
        [ngStyle]="{color : this.r!.title_color}">{{this.r!.images[this.showImageCpt].getNom()}}</h5>

      <div *ngIf="this.r!.typeEcriture == 'CURSIF'">
        <input type="text" name="input_recopier"
          [ngStyle]="{background : this.r!.input_bg_color , color : this.r!.input_text_color}"
          style="font-family : cursiveFont;font-size : 32px" id="input_recopier" #input_recopier
          (keypress)="enterKey($event)">
        <button (click)="sendAnswer(input_recopier.value,this.r!.images[this.showImageCpt])" [ngStyle]="{background : this.r!.button_bg_color, color : this.r!.button_text_color}" mat-raised-button color="primary">Envoyer</button>

      </div>

      <div *ngIf="this.r!.typeEcriture == 'CAPITAL'">
        <input type="text" name="input_recopier"
          [ngStyle]="{background : this.r!.input_bg_color , color : this.r!.input_text_color}"
          style="text-transform: uppercase;" id="input_recopier" #input_recopier (keypress)="enterKey($event)">
        <button type="button" (click)="sendAnswer(input_recopier.value,this.r!.images[this.showImageCpt])"
          [ngStyle]="{background : this.r!.button_bg_color, color : this.r!.button_text_color}" class="btn btn-primary">
          Envoyer
        </button>
      </div>

      <div *ngIf="this.r!.typeEcriture == 'SCRIPT'">
        <input type="text" name="input_recopier"
          [ngStyle]="{background : this.r!.input_bg_color , color : this.r!.input_text_color}" id="input_recopier"
          #input_recopier (keypress)="enterKey($event)">
        <button type="button" (click)="sendAnswer(input_recopier.value,this.r!.images[this.showImageCpt])"
          [ngStyle]="{background : this.r!.button_bg_color, color : this.r!.button_text_color}" class="btn btn-primary">
          Envoyer
        </button>
      </div>


      <p id="result" class="text-center"></p>
      <div class="align-bottom">
        <div class="progress" *ngIf="this.r!.color_progress_bar == 'blue' ">
          <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
            aria-valuenow=" 50" aria-valuemin="0" aria-valuemax='100'></div>
        </div>

        <div class="progress" *ngIf="this.r!.color_progress_bar == 'green' ">
          <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated bg-success"
            role="progressbar" aria-valuenow=" 50" aria-valuemin="0" aria-valuemax='100'></div>
        </div>

        <div class="progress" *ngIf="this.r!.color_progress_bar == 'lightblue' ">
          <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated bg-info"
            role="progressbar" aria-valuenow=" 50" aria-valuemin="0" aria-valuemax='100'></div>
        </div>

        <div class="progress" *ngIf="this.r!.color_progress_bar == 'orange' ">
          <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated bg-warning"
            role="progressbar" aria-valuenow=" 50" aria-valuemin="0" aria-valuemax='100'></div>
        </div>

        <div class="progress" *ngIf="this.r!.color_progress_bar == 'red' ">
          <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated bg-danger"
            role="progressbar" aria-valuenow=" 50" aria-valuemin="0" aria-valuemax='100'></div>
        </div>

        <p [ngStyle]="{color : this.r!.text_color}">{{this.showImageCpt}} / {{this.r!.images.length}}</p>
      </div>
    </div>
  </div>
</div>

<div *ngIf="this.showImageCpt == this.r!.images.length && this.r!.images.length != 0"
  class="card align-middle container" id="card_finish" style="width: 32rem;"
  [ngStyle]="{background : this.r!.bg_color}">
  <img class="card-img-top image"
    src="../../assets/images/congratulations.png"
    alt="Card image cap">
  <div class="card-body text-center">
    <div *ngIf="this.r!.typeEcriture == 'CURSIF'">
      <h5 class="card-title title_image" [ngStyle]="{color : this.r!.title_color}" style="font-family : cursiveFont; font-size : 50px">Félicitation !</h5>
      <p class="card-text" [ngStyle]="{color : this.r!.text_color}" style="font-family : cursiveFont; font-size : 32px">Vous avez recopier correctement touts les mots !</p>
    </div>

    <div *ngIf="this.r!.typeEcriture != 'CURSIF'">
      <h5 class="card-title title_image" [ngStyle]="{color : this.r!.title_color}">Félicitation !</h5>
      <p class="card-text" [ngStyle]="{color : this.r!.text_color}">Vous avez recopier correctement touts les mots !</p>
    </div>
  </div>
</div>

<div *ngIf="this.r!.images.length == 0" class="card align-middle container" id="card_finish" style="width: 32rem;"
  [ngStyle]="{background : this.r!.bg_color}">
  <img class="card-img-top image"
    src="../../assets/images/error.png"
    alt="Card image cap">
  <div class="card-body text-center">
    <h5 class="card-title title_image_error">Erreur !</h5>
    <p class="card-text" style="color : black">Il n'y a pas d'image selectionné</p>
  </div>
</div>
